<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR review</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <style>
        body {
            display: flex;
            flex-direction: column;
            padding: 1rem;
        }

        h1 {
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <section id="old-bootstrap">
        <h1>Old bootstrap</h1>
        <iframe src="https://lopeys.com/strava/bootstrap5tooltip2.html" width="100%"></iframe>
    </section>
    <section id="new-bootstrap">
        <h1>New bootstrap</h1>
        <br><a>(1) hover over button to see original tooltip</a>
        <br><a>(2) click on button to see new tip hovering with original hidden because user initialized element with a
            new instance of tooltip</a>
        <br><a>(3) click again (second time) on button to see both are hidden because user initialized element with a
            new instance of tooltip</a>
        <details>
            <summary>Reason</summary>
            <p>it happens because the user initialized an element with a new instance of a tooltip on every click</p>
            <code></code>
        </details>
        <br>
        <button role="button" id="btnChangeTitle" class="btn btn-outline-dark btn-clipboard-share m-3"
            data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
            onclick="fnUpdateBootStrapTitle('btnChangeTitle','You just Clicked Me, second click will lock');"
            data-bs-title="Original Tip">Test ToolTip</button>
    </section>
    <script src="./bootstrap.bundle.min.js"></script>
    <script>
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl, { container: tooltipTriggerEl }); });
        //_____________ **** Set Tooltip Title 5.2.1 **** ________________________________
        function fnUpdateBootStrapTitle(ele, new_tip) {
            var eleID = document.getElementById(ele);
            var tooltip = new bootstrap.Tooltip(eleID, { title: new_tip });
        };
        document.querySelector("code").textContent=`<button role="button" id="btnChangeTitle" class="btn btn-outline-dark btn-clipboard-share m-3"
            data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
            onclick="fnUpdateBootStrapTitle('btnChangeTitle','You just Clicked Me, second click will lock');"
            data-bs-title="Original Tip">Test ToolTip</button>`;
    </script>
</body>

</html>